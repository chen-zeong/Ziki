<!DOCTYPE html>
<html lang="zh-CN" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>视频压缩工具 - 专业版</title>
    <!-- 引入Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入Inter字体 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- 引入Phosphor Icons图标库 -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <style>
        /* 基础样式和字体 */
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* 自定义滚动条样式 */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 8px; }
        html.dark ::-webkit-scrollbar-thumb { background: #374151; }
        ::-webkit-scrollbar-thumb:hover { background: #9ca3af; }
        html.dark ::-webkit-scrollbar-thumb:hover { background: #4b5563; }
        
        /* 对比滑块样式 */
        .comparison-slider { position: relative; overflow: hidden; cursor: col-resize; }
        .comparison-slider .img-after { position: absolute; top: 0; left: 0; width: 50%; height: 100%; object-fit: cover; object-position: left; overflow: hidden; }
        .comparison-slider .slider-handle { position: absolute; top: 0; left: 50%; width: 3px; height: 100%; transform: translateX(-50%); pointer-events: none; background: #ffffff; box-shadow: 0 0 10px rgba(0,0,0,0.5); }
        .comparison-slider .slider-handle-button { position: absolute; top: 50%; left: 50%; width: 40px; height: 40px; border: 2px solid white; border-radius: 50%; transform: translate(-50%, -50%); display: flex; align-items: center; justify-content: center; color: white; transition: all 0.2s ease-in-out; background-color: rgba(0, 0, 0, 0.3); backdrop-filter: blur(4px); }
        .comparison-slider:hover .slider-handle-button { transform: translate(-50%, -50%) scale(1.05); }

        /* 自定义表单控件箭头 */
        .custom-select {
            -webkit-appearance: none; -moz-appearance: none; appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%234b5563' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat; background-position: right 0.75rem center; background-size: 1em;
        }
        html.dark .custom-select {
             background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
        }
    </style>
    <script>
        tailwind.config = { darkMode: 'class' }
    </script>
</head>
<body class="bg-white dark:bg-[#111827] text-slate-900 dark:text-slate-200 transition-colors duration-300">

    <div class="w-full h-screen p-2 flex items-center justify-center">
        <!-- 主容器 -->
        <div class="w-full max-w-8xl h-full flex flex-col lg:flex-row overflow-hidden rounded-lg bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800">
            
            <!-- 左侧主面板 -->
            <main class="flex-1 p-6 flex flex-col gap-5 overflow-y-auto">
                <header class="flex items-center justify-between">
                    <h1 class="text-xl font-semibold text-slate-800 dark:text-slate-100">视频压缩</h1>
                     <!-- 日夜模式切换按钮 -->
                    <button id="theme-toggle" class="w-9 h-9 flex items-center justify-center rounded-md text-slate-500 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700 transition-all">
                        <i id="theme-toggle-dark-icon" class="ph-bold ph-moon text-xl hidden"></i>
                        <i id="theme-toggle-light-icon" class="ph-bold ph-sun text-xl hidden"></i>
                    </button>
                </header>

                <!-- 预览窗口 -->
                <div class="w-full aspect-video rounded-lg overflow-hidden relative group bg-slate-200 dark:bg-black">
                    <div id="comparison-slider" class="comparison-slider h-full w-full">
                        <img id="img-before" src="https://placehold.co/1280x720/e5e7eb/4b5563?text=压缩前" alt="压缩前" class="img-before w-full h-full object-cover">
                        <div class="img-after">
                             <img id="img-after" src="https://placehold.co/1280x720/1f2937/d1d5db?text=压缩后" alt="压缩后" class="w-full h-full object-cover">
                        </div>
                        <div class="slider-handle">
                            <div class="slider-handle-button">
                                <i class="ph-bold ph-arrows-left-right text-xl"></i>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 播放进度条 -->
                <div class="w-full flex items-center gap-4">
                    <span class="text-xs font-mono text-slate-500 dark:text-slate-400">01:32</span>
                    <div class="w-full bg-slate-200 dark:bg-slate-700 rounded-full h-1.5 group">
                        <div class="bg-emerald-500 h-1.5 rounded-full relative" style="width: 45%">
                            <div class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2 w-3.5 h-3.5 bg-white rounded-full ring-2 ring-emerald-500 shadow-md opacity-0 group-hover:opacity-100 transition-opacity"></div>
                        </div>
                    </div>
                    <span class="text-xs font-mono text-slate-500 dark:text-slate-400">03:10</span>
                </div>

                <!-- 压缩设置面板 -->
                <div class="flex-1 bg-white dark:bg-slate-800/50 border border-slate-200 dark:border-slate-800 rounded-lg p-6 flex flex-col gap-6">
                    <h2 class="text-base font-semibold text-slate-700 dark:text-slate-200">压缩设置</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-5">
                        <!-- 单个设置项 -->
                        <div class="flex flex-col gap-1.5">
                            <label class="font-medium text-sm text-slate-600 dark:text-slate-300">格式</label>
                            <select class="custom-select w-full bg-slate-100 dark:bg-slate-700/50 border border-slate-300 dark:border-slate-700 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200">
                                <option>MP4</option><option>MOV</option><option>AVI</option><option>WEBM</option>
                            </select>
                        </div>
                        <div class="flex flex-col gap-1.5">
                            <label class="font-medium text-sm text-slate-600 dark:text-slate-300">视频编码</label>
                            <select class="custom-select w-full bg-slate-100 dark:bg-slate-700/50 border border-slate-300 dark:border-slate-700 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200">
                                <option>H.264</option><option>H.265 (HEVC)</option><option>AV1</option><option>VP9</option>
                            </select>
                        </div>
                        <div class="flex flex-col gap-1.5">
                            <label class="font-medium text-sm text-slate-600 dark:text-slate-300">分辨率</label>
                            <select class="custom-select w-full bg-slate-100 dark:bg-slate-700/50 border border-slate-300 dark:border-slate-700 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200">
                                <option>432x320 (原始)</option><option>1920x1080</option><option>1280x720</option><option>640x360</option>
                            </select>
                        </div>
                        <div class="flex flex-col gap-1.5">
                            <label class="font-medium text-sm text-slate-600 dark:text-slate-300">音频编码</label>
                            <select class="custom-select w-full bg-slate-100 dark:bg-slate-700/50 border border-slate-300 dark:border-slate-700 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200">
                                <option>AAC</option><option>MP3</option><option>Opus</option>
                            </select>
                        </div>
                        <div class="flex flex-col gap-1.5">
                            <label class="font-medium text-sm text-slate-600 dark:text-slate-300">音频采样率</label>
                            <select class="custom-select w-full bg-slate-100 dark:bg-slate-700/50 border border-slate-300 dark:border-slate-700 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200">
                                <option>44.1 kHz</option><option>48.0 kHz</option><option>22.05 kHz</option>
                            </select>
                        </div>
                         <div class="flex flex-col gap-1.5">
                            <label class="font-medium text-sm text-slate-600 dark:text-slate-300">音频选项</label>
                            <div class="flex items-center gap-4 rounded-md px-3 h-[40px] bg-slate-100 dark:bg-slate-700/50 border border-slate-300 dark:border-slate-700">
                                <label for="mute-toggle" class="flex items-center cursor-pointer">
                                    <div class="relative">
                                        <input type="checkbox" id="mute-toggle" class="sr-only peer" checked>
                                        <div class="block bg-slate-300 dark:bg-slate-600 w-9 h-5 rounded-full peer-checked:bg-emerald-500 transition"></div>
                                        <div class="dot absolute left-0.5 top-0.5 bg-white w-4 h-4 rounded-full transition peer-checked:translate-x-full"></div>
                                    </div>
                                    <div class="ml-3 text-slate-700 dark:text-slate-300 font-medium text-sm">保留音频</div>
                                </label>
                            </div>
                        </div>
                    </div>
                    <!-- 画质 -->
                    <div class="mt-2">
                        <div class="flex items-center justify-between mb-1.5">
                            <label class="font-medium text-sm text-slate-600 dark:text-slate-300">画质 (CRF)</label>
                            <span id="quality-value" class="font-semibold text-sm text-slate-800 dark:text-slate-100">23</span>
                        </div>
                        <input id="quality-slider" type="range" min="0" max="51" value="23" class="w-full h-1.5 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-emerald-500">
                    </div>
                </div>
            </main>

            <!-- 右侧面板 -->
            <aside class="w-full lg:w-80 bg-white dark:bg-slate-900/50 border-l border-slate-200 dark:border-slate-800 flex flex-col">
                <!-- 上传区域 -->
                <div class="p-4 border-b border-slate-200 dark:border-slate-800">
                    <label for="file-upload-2" class="cursor-pointer w-full h-28 border-2 border-dashed border-slate-300 dark:border-slate-700 hover:border-emerald-500 dark:hover:border-emerald-500 hover:bg-emerald-500/5 dark:hover:bg-emerald-500/10 rounded-lg flex flex-col items-center justify-center text-center transition-all duration-300">
                        <i class="ph-bold ph-upload-simple text-3xl text-slate-400 dark:text-slate-500"></i>
                        <p class="font-semibold mt-2 text-sm text-slate-600 dark:text-slate-300">上传文件</p>
                        <p class="text-xs text-slate-500 dark:text-slate-400">或拖拽文件到此处</p>
                        <input id="file-upload-2" type="file" class="hidden"/>
                    </label>
                </div>
                <!-- 任务列表 -->
                <div class="flex-1 p-4 space-y-3 overflow-y-auto">
                    <h3 class="text-sm font-semibold text-slate-500 dark:text-slate-400 px-1">任务队列</h3>
                    <!-- 任务项 1 -->
                    <div class="bg-slate-100 dark:bg-slate-800 p-2 rounded-lg flex items-center gap-3 transition-all">
                        <img src="https://placehold.co/80x45/a1a1aa/ffffff?text=Video" alt="thumbnail" class="w-16 h-9 object-cover rounded flex-shrink-0">
                        <div class="flex-1 min-w-0">
                            <p class="font-medium text-sm text-slate-800 dark:text-slate-200 truncate">butterfly.mp4</p>
                            <p class="text-xs text-slate-500 dark:text-slate-400">1.65 MB</p>
                        </div>
                        <button class="w-7 h-7 flex-shrink-0 flex items-center justify-center rounded text-slate-400 hover:bg-red-500/10 hover:text-red-500 transition">
                            <i class="ph-bold ph-trash text-md"></i>
                        </button>
                    </div>
                    <!-- 任务项 2 -->
                    <div class="bg-slate-100 dark:bg-slate-800 p-2 rounded-lg flex items-center gap-3 transition-all">
                         <img src="https://placehold.co/80x45/18181b/ffffff?text=Video" alt="thumbnail" class="w-16 h-9 object-cover rounded flex-shrink-0">
                        <div class="flex-1 min-w-0">
                            <p class="font-medium text-sm text-slate-800 dark:text-slate-200 truncate">nature_scene.mov</p>
                            <p class="text-xs text-slate-500 dark:text-slate-400">12.8 MB</p>
                        </div>
                        <button class="w-7 h-7 flex-shrink-0 flex items-center justify-center rounded text-slate-400 hover:bg-red-500/10 hover:text-red-500 transition">
                            <i class="ph-bold ph-trash text-md"></i>
                        </button>
                    </div>
                </div>
                <!-- 底部开始按钮 -->
                <div class="p-4 border-t border-slate-200 dark:border-slate-800 mt-auto">
                     <button class="w-full bg-emerald-500 text-white font-bold px-6 py-3 rounded-lg shadow-lg shadow-emerald-500/20 hover:bg-emerald-600 focus:outline-none focus:ring-4 focus:ring-emerald-300 dark:focus:ring-emerald-800 transition-all duration-300 text-base flex items-center justify-center gap-2 transform hover:scale-[1.02] active:scale-100">
                        <i class="ph-bold ph-rocket-launch text-xl"></i>
                        <span>开始压缩</span>
                    </button>
                </div>
            </aside>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const themeToggleBtn = document.getElementById('theme-toggle');
            const darkIcon = document.getElementById('theme-toggle-dark-icon');
            const lightIcon = document.getElementById('theme-toggle-light-icon');
            const htmlEl = document.documentElement;

            const applyTheme = (theme) => {
                if (theme === 'dark') {
                    htmlEl.classList.add('dark');
                    darkIcon.classList.remove('hidden');
                    lightIcon.classList.add('hidden');
                } else {
                    htmlEl.classList.remove('dark');
                    darkIcon.classList.add('hidden');
                    lightIcon.classList.remove('hidden');
                }
            };

            const currentTheme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
            applyTheme(currentTheme);

            themeToggleBtn.addEventListener('click', () => {
                const isDark = htmlEl.classList.contains('dark');
                const newTheme = isDark ? 'light' : 'dark';
                localStorage.setItem('theme', newTheme);
                applyTheme(newTheme);
            });

            const slider = document.getElementById('comparison-slider');
            if (slider) {
                const imgAfterContainer = slider.querySelector('.img-after');
                const handle = slider.querySelector('.slider-handle');
                let isDragging = false;
                
                const moveHandler = (e) => {
                    if (!isDragging) return;
                    const rect = slider.getBoundingClientRect();
                    const clientX = e.touches ? e.touches[0].clientX : e.clientX;
                    let x = clientX - rect.left;
                    if (x < 0) x = 0;
                    if (x > rect.width) x = rect.width;
                    const percentage = (x / rect.width) * 100;
                    imgAfterContainer.style.width = `${percentage}%`;
                    handle.style.left = `${percentage}%`;
                };

                const startDragging = (e) => { isDragging = true; e.preventDefault(); };
                const stopDragging = () => { isDragging = false; };

                slider.addEventListener('mousedown', startDragging);
                slider.addEventListener('touchstart', startDragging, { passive: false });
                document.addEventListener('mouseup', stopDragging);
                document.addEventListener('touchend', stopDragging);
                document.addEventListener('mousemove', moveHandler);
                document.addEventListener('touchmove', moveHandler, { passive: false });
            }

            const qualitySlider = document.getElementById('quality-slider');
            const qualityValue = document.getElementById('quality-value');
            if (qualitySlider && qualityValue) {
                qualitySlider.addEventListener('input', (e) => {
                    qualityValue.textContent = e.target.value;
                });
            }
        });
    </script>

</body>
</html>
