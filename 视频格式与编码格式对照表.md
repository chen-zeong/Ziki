# 视频格式与编码格式对照表

本文档列出了市面上常用的视频格式及其对应的推荐编码格式，帮助您选择最适合的视频处理方案。

## 目录
- [主流视频容器格式](#主流视频容器格式)
- [视频编码格式详解](#视频编码格式详解)
- [音频编码格式](#音频编码格式)
- [格式选择建议](#格式选择建议)
- [兼容性对照表](#兼容性对照表)

## 主流视频容器格式

### MP4 (.mp4)
**推荐视频编码：** H.264 (AVC)、H.265 (HEVC)、AV1  
**推荐音频编码：** AAC、MP3  
**特点：** 最通用的格式，几乎所有设备和平台都支持  
**适用场景：** 网络分享、移动设备播放、流媒体

### MKV (.mkv)
**推荐视频编码：** H.264、H.265、VP9、AV1  
**推荐音频编码：** AAC、FLAC、DTS、AC-3  
**特点：** 开源格式，支持多音轨、字幕、章节  
**适用场景：** 高质量存储、多媒体收藏

### AVI (.avi)
**推荐视频编码：** H.264、Xvid、DivX  
**推荐音频编码：** MP3、PCM  
**特点：** 老牌格式，兼容性好但文件较大  
**适用场景：** 传统设备播放、简单编辑

### MOV (.mov)
**推荐视频编码：** H.264、H.265、ProRes  
**推荐音频编码：** AAC、PCM  
**特点：** Apple开发，Mac系统原生支持  
**适用场景：** Mac环境、专业视频制作

### WMV (.wmv)
**推荐视频编码：** WMV9、VC-1  
**推荐音频编码：** WMA、MP3  
**特点：** Microsoft格式，Windows系统优化  
**适用场景：** Windows环境、企业应用

### WebM (.webm)
**推荐视频编码：** VP8、VP9、AV1  
**推荐音频编码：** Vorbis、Opus  
**特点：** Google开发，专为网络优化  
**适用场景：** 网页视频、HTML5播放

### FLV (.flv)
**推荐视频编码：** H.264、VP6  
**推荐音频编码：** AAC、MP3  
**特点：** Flash视频格式，逐渐被淘汰  
**适用场景：** 传统网络视频（不推荐新项目使用）

### 3GP (.3gp)
**推荐视频编码：** H.263、H.264  
**推荐音频编码：** AMR、AAC  
**特点：** 移动设备专用，文件小  
**适用场景：** 老式手机、低带宽传输

### M4V (.m4v)
**推荐视频编码：** H.264、H.265  
**推荐音频编码：** AAC  
**特点：** iTunes专用格式，支持DRM  
**适用场景：** Apple生态系统、iTunes Store

### TS (.ts/.m2ts)
**推荐视频编码：** H.264、H.265、MPEG-2  
**推荐音频编码：** AAC、AC-3、DTS  
**特点：** 传输流格式，适合广播  
**适用场景：** 数字电视、蓝光光盘

## 视频编码格式详解

### H.264 (AVC)
- **压缩效率：** ⭐⭐⭐⭐
- **兼容性：** ⭐⭐⭐⭐⭐
- **硬件支持：** 广泛支持
- **适用场景：** 通用视频压缩，流媒体

### H.265 (HEVC)
- **压缩效率：** ⭐⭐⭐⭐⭐
- **兼容性：** ⭐⭐⭐
- **硬件支持：** 现代设备支持
- **适用场景：** 4K视频，高质量压缩

### AV1
- **压缩效率：** ⭐⭐⭐⭐⭐
- **兼容性：** ⭐⭐
- **硬件支持：** 新设备开始支持
- **适用场景：** 未来标准，网络流媒体

### VP9
- **压缩效率：** ⭐⭐⭐⭐
- **兼容性：** ⭐⭐⭐
- **硬件支持：** 部分支持
- **适用场景：** YouTube，WebM容器

### VP8
- **压缩效率：** ⭐⭐⭐
- **兼容性：** ⭐⭐⭐
- **硬件支持：** 有限支持
- **适用场景：** WebM容器，开源项目

### MPEG-2
- **压缩效率：** ⭐⭐
- **兼容性：** ⭐⭐⭐⭐⭐
- **硬件支持：** 广泛支持
- **适用场景：** DVD，数字电视

### Xvid/DivX
- **压缩效率：** ⭐⭐⭐
- **兼容性：** ⭐⭐⭐⭐
- **硬件支持：** 传统设备支持
- **适用场景：** AVI容器，传统压缩

## 音频编码格式

### AAC (Advanced Audio Coding)
- **质量：** 高
- **压缩比：** 优秀
- **兼容性：** 广泛支持
- **推荐码率：** 128-320 kbps

### MP3
- **质量：** 中等
- **压缩比：** 良好
- **兼容性：** 最广泛
- **推荐码率：** 128-320 kbps

### FLAC
- **质量：** 无损
- **压缩比：** 中等
- **兼容性：** 较好
- **文件大小：** 较大

### Opus
- **质量：** 高
- **压缩比：** 优秀
- **兼容性：** 新格式
- **推荐码率：** 64-256 kbps

### AC-3 (Dolby Digital)
- **质量：** 高
- **环绕声：** 支持5.1
- **兼容性：** 家庭影院设备
- **推荐码率：** 384-640 kbps

### DTS
- **质量：** 高
- **环绕声：** 支持多声道
- **兼容性：** 高端设备
- **推荐码率：** 768-1536 kbps

## 格式选择建议

### 网络分享和流媒体
**推荐组合：** MP4 + H.264 + AAC
- 兼容性最佳
- 文件大小适中
- 加载速度快

### 高质量存储
**推荐组合：** MKV + H.265 + FLAC
- 压缩效率高
- 支持无损音频
- 支持多音轨和字幕

### 4K/8K视频
**推荐组合：** MP4/MKV + H.265/AV1 + AAC
- 高压缩比
- 保持画质
- 文件大小可控

### 专业制作
**推荐组合：** MOV + ProRes + PCM
- 编辑友好
- 质量损失最小
- 专业软件支持

### 网页播放
**推荐组合：** WebM + VP9 + Opus
- HTML5原生支持
- 开源免费
- 网络优化

## 兼容性对照表

| 格式组合 | Windows | macOS | iOS | Android | 网页播放 | 智能电视 |
|---------|---------|-------|-----|---------|----------|----------|
| MP4+H.264+AAC | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| MKV+H.264+AAC | ✅ | ✅ | ❌ | ✅ | ❌ | ⚠️ |
| WebM+VP9+Opus | ✅ | ✅ | ❌ | ✅ | ✅ | ⚠️ |
| MOV+H.264+AAC | ✅ | ✅ | ✅ | ⚠️ | ⚠️ | ⚠️ |
| AVI+H.264+MP3 | ✅ | ⚠️ | ❌ | ⚠️ | ❌ | ✅ |
| MP4+H.265+AAC | ✅ | ✅ | ✅ | ✅ | ⚠️ | ✅ |

**图例：**
- ✅ 完全支持
- ⚠️ 部分支持或需要额外软件
- ❌ 不支持或支持有限

## 编码参数建议

### H.264 编码参数
```
# 高质量设置
-c:v libx264 -preset slow -crf 18 -profile:v high -level 4.1

# 平衡设置
-c:v libx264 -preset medium -crf 23 -profile:v main

# 快速设置
-c:v libx264 -preset fast -crf 28 -profile:v baseline
```

### H.265 编码参数
```
# 高质量设置
-c:v libx265 -preset slow -crf 20 -profile:v main

# 平衡设置
-c:v libx265 -preset medium -crf 25 -profile:v main

# 4K优化
-c:v libx265 -preset slow -crf 22 -profile:v main10
```

### AAC 音频参数
```
# 高质量
-c:a aac -b:a 256k -ar 48000

# 标准质量
-c:a aac -b:a 128k -ar 44100

# 立体声优化
-c:a aac -b:a 192k -ar 48000 -ac 2
```

## 总结

选择视频格式时需要考虑以下因素：

1. **目标平台**：不同平台对格式的支持程度不同
2. **文件大小**：压缩效率与质量的平衡
3. **播放设备**：硬件解码支持情况
4. **网络环境**：带宽限制和加载速度
5. **后期处理**：是否需要进一步编辑

**通用建议：** 对于大多数应用场景，MP4 + H.264 + AAC 仍然是最佳选择，兼容性好且质量可靠。对于追求更高压缩比的场景，可以考虑 H.265 或 AV1 编码。

---

*最后更新：2024年12月*  
*注：技术发展迅速，建议定期更新此对照表*